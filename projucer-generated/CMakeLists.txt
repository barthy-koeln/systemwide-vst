# Automatically generated CMakeLists, created by the Projucer
# Do not edit this file! Your changes will be overwritten when you re-save the Projucer project!

cmake_minimum_required (VERSION 3.4.1)

if (NOT CMAKE_BUILD_TYPE)
    set (CMAKE_BUILD_TYPE "Debug"  CACHE STRING "Choose the type of build." FORCE)
endif (NOT CMAKE_BUILD_TYPE)

###############################################################################
# Linux Makefile
###############################################################################

if (UNIX AND NOT APPLE)

project ("SystemwideVST" C CXX)

find_package (PkgConfig REQUIRED)
pkg_search_module (ALSA REQUIRED alsa)
pkg_search_module (FREETYPE2 REQUIRED freetype2)
pkg_search_module (WEBKIT2GTK-4.0 REQUIRED webkit2gtk-4.0)
pkg_search_module (GTK+-X11-3.0 REQUIRED gtk+-x11-3.0)
pkg_search_module (GTK+-3.0 REQUIRED gtk+-3.0)
pkg_search_module (APPINDICATOR3-0.1 REQUIRED appindicator3-0.1)

add_executable (APP
    "../../assets/images/logo.svg"
    "../../src/TrayIconThread.h"
    "../../src/MessagesConstants.h"
    "../../src/SettingsConstants.h"
    "../../src/SystemwideVSTProcess.h"
    "../../src/PassthroughProcessor.cpp"
    "../../src/PassthroughProcessor.h"
    "../../src/ConfigurationWindow.h"
    "../../src/PluginWindow.h"
    "../../src/PluginSelectionTableModel.h"
    "../../src/Main.cpp"
    "../../src/ConfigurationComponent.cpp"
    "../../JuceLibraryCode/AppConfig.h"
    "../../JuceLibraryCode/include_juce_audio_basics.cpp"
    "../../JuceLibraryCode/include_juce_audio_devices.cpp"
    "../../JuceLibraryCode/include_juce_audio_formats.cpp"
    "../../JuceLibraryCode/include_juce_audio_processors.cpp"
    "../../JuceLibraryCode/include_juce_audio_utils.cpp"
    "../../JuceLibraryCode/include_juce_core.cpp"
    "../../JuceLibraryCode/include_juce_data_structures.cpp"
    "../../JuceLibraryCode/include_juce_dsp.cpp"
    "../../JuceLibraryCode/include_juce_events.cpp"
    "../../JuceLibraryCode/include_juce_graphics.cpp"
    "../../JuceLibraryCode/include_juce_gui_basics.cpp"
    "../../JuceLibraryCode/include_juce_gui_extra.cpp"
    "../../JuceLibraryCode/JuceHeader.h"
)

set_source_files_properties ("../../assets/images/logo.svg" PROPERTIES HEADER_FILE_ONLY TRUE)
set_source_files_properties ("../../src/TrayIconThread.h" PROPERTIES HEADER_FILE_ONLY TRUE)
set_source_files_properties ("../../src/MessagesConstants.h" PROPERTIES HEADER_FILE_ONLY TRUE)
set_source_files_properties ("../../src/SettingsConstants.h" PROPERTIES HEADER_FILE_ONLY TRUE)
set_source_files_properties ("../../src/SystemwideVSTProcess.h" PROPERTIES HEADER_FILE_ONLY TRUE)
set_source_files_properties ("../../src/PassthroughProcessor.h" PROPERTIES HEADER_FILE_ONLY TRUE)
set_source_files_properties ("../../src/ConfigurationWindow.h" PROPERTIES HEADER_FILE_ONLY TRUE)
set_source_files_properties ("../../src/PluginWindow.h" PROPERTIES HEADER_FILE_ONLY TRUE)
set_source_files_properties ("../../src/PluginSelectionTableModel.h" PROPERTIES HEADER_FILE_ONLY TRUE)
set_source_files_properties ("../../JuceLibraryCode/AppConfig.h" PROPERTIES HEADER_FILE_ONLY TRUE)
set_source_files_properties ("../../JuceLibraryCode/JuceHeader.h" PROPERTIES HEADER_FILE_ONLY TRUE)

set_target_properties (APP PROPERTIES SUFFIX "")

#------------------------------------------------------------------------------
# Config: Debug
#------------------------------------------------------------------------------

if (CMAKE_BUILD_TYPE STREQUAL Debug)

execute_process (COMMAND uname -m OUTPUT_VARIABLE JUCE_ARCH_LABEL OUTPUT_STRIP_TRAILING_WHITESPACE)

include_directories (
    "~/JUCE/modules/juce_audio_processors/format_types/VST3_SDK"
    "../../JuceLibraryCode"
    "~/JUCE/modules"
    "/home/barthy/CLionProjects/tray"
    ${ALSA_INCLUDE_DIRS}
    ${FREETYPE2_INCLUDE_DIRS}
    ${WEBKIT2GTK-4.0_INCLUDE_DIRS}
    ${GTK+-X11-3.0_INCLUDE_DIRS}
    ${GTK+-3.0_INCLUDE_DIRS}
    ${APPINDICATOR3-0.1_INCLUDE_DIRS}
)

find_library (RT rt
)

find_library (DL dl
)

find_library (PTHREAD pthread
)

set_target_properties (APP PROPERTIES
    OUTPUT_NAME "SystemwideVST"
    CXX_STANDARD 17
    CXX_EXTENSIONS OFF
)

target_compile_definitions (APP PRIVATE
    LINUX=1
    DEBUG=1
    _DEBUG=1
    JUCER_LINUX_MAKE_6D53C8B4=1
    JUCE_APP_VERSION=0.1.0
    JUCE_APP_VERSION_HEX=0x100
    JucePlugin_Build_VST=0
    JucePlugin_Build_VST3=0
    JucePlugin_Build_AU=0
    JucePlugin_Build_AUv3=0
    JucePlugin_Build_RTAS=0
    JucePlugin_Build_AAX=0
    JucePlugin_Build_Standalone=0
    JucePlugin_Build_Unity=0
)

target_link_libraries (APP PRIVATE
    
    -fvisibility=hidden
    ${RT}
    ${DL}
    ${PTHREAD}
    ${ALSA_LIBRARIES}
    ${FREETYPE2_LIBRARIES}
    ${GTK+-3.0_LIBRARIES}
    ${APPINDICATOR3-0.1_LIBRARIES}
)

set (CMAKE_C_FLAGS "${CMAKE_C_FLAGS}  -pthread -g -ggdb -O0")
set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${CMAKE_C_FLAGS} ")

endif (CMAKE_BUILD_TYPE STREQUAL Debug)

#------------------------------------------------------------------------------
# Config: Release
#------------------------------------------------------------------------------

if (CMAKE_BUILD_TYPE STREQUAL Release)

execute_process (COMMAND uname -m OUTPUT_VARIABLE JUCE_ARCH_LABEL OUTPUT_STRIP_TRAILING_WHITESPACE)

include_directories (
    "~/JUCE/modules/juce_audio_processors/format_types/VST3_SDK"
    "../../JuceLibraryCode"
    "~/JUCE/modules"
    "/home/barthy/CLionProjects/tray"
    ${ALSA_INCLUDE_DIRS}
    ${FREETYPE2_INCLUDE_DIRS}
    ${WEBKIT2GTK-4.0_INCLUDE_DIRS}
    ${GTK+-X11-3.0_INCLUDE_DIRS}
    ${GTK+-3.0_INCLUDE_DIRS}
    ${APPINDICATOR3-0.1_INCLUDE_DIRS}
)

find_library (RT rt
)

find_library (DL dl
)

find_library (PTHREAD pthread
)

set_target_properties (APP PROPERTIES
    OUTPUT_NAME "SystemwideVST"
    CXX_STANDARD 17
    CXX_EXTENSIONS OFF
)

target_compile_definitions (APP PRIVATE
    LINUX=1
    NDEBUG=1
    JUCER_LINUX_MAKE_6D53C8B4=1
    JUCE_APP_VERSION=0.1.0
    JUCE_APP_VERSION_HEX=0x100
    JucePlugin_Build_VST=0
    JucePlugin_Build_VST3=0
    JucePlugin_Build_AU=0
    JucePlugin_Build_AUv3=0
    JucePlugin_Build_RTAS=0
    JucePlugin_Build_AAX=0
    JucePlugin_Build_Standalone=0
    JucePlugin_Build_Unity=0
)

target_link_libraries (APP PRIVATE
    
    -fvisibility=hidden
    ${RT}
    ${DL}
    ${PTHREAD}
    ${ALSA_LIBRARIES}
    ${FREETYPE2_LIBRARIES}
    ${GTK+-3.0_LIBRARIES}
    ${APPINDICATOR3-0.1_LIBRARIES}
)

set (CMAKE_C_FLAGS "${CMAKE_C_FLAGS}  -pthread -O3")
set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${CMAKE_C_FLAGS} ")

endif (CMAKE_BUILD_TYPE STREQUAL Release)

endif()

