# Automatically generated CMakeLists, created by the Projucer
# Do not edit this file! Your changes will be overwritten when you re-save the Projucer project!

cmake_minimum_required(VERSION 3.12)

add_compile_definitions(APP_VERSION="0.1.0")

add_subdirectory(../../JUCE {CMAKE_CURRENT_BINARY_DIR}/juce)

if (NOT CMAKE_BUILD_TYPE)
    set(CMAKE_BUILD_TYPE "Debug" CACHE STRING "Choose the type of build." FORCE)
endif (NOT CMAKE_BUILD_TYPE)

###############################################################################
# Linux Makefile
###############################################################################

if (UNIX AND NOT APPLE)

    project("Systemwide VST" C CXX)

    find_package(PkgConfig REQUIRED)
    pkg_search_module(ALSA REQUIRED alsa)
    pkg_search_module(FREETYPE2 REQUIRED freetype2)
    pkg_search_module(GTK+-3.0 REQUIRED gtk+-3.0)
    pkg_search_module(APPINDICATOR3-0.1 REQUIRED appindicator3-0.1)

    add_executable(APP
            "./assets/images/logo.svg"
            "./src/TrayIconThread.h"
            "./src/MessagesConstants.h"
            "./src/SettingsConstants.h"
            "./src/SystemwideVSTProcess.h"
            "./src/PassthroughProcessor.cpp"
            "./src/PassthroughProcessor.h"
            "./src/ConfigurationWindow.h"
            "./src/PluginWindow.h"
            "./src/PluginSelectionTableModel.h"
            "./src/Main.cpp"
            "./src/ConfigurationComponent.cpp"
            "src/CommandRunner.h"
            "./JuceLibraryCode/BinaryData.cpp"
            "./JuceLibraryCode/BinaryData.h"
            "./JuceLibraryCode/include_juce_audio_basics.cpp"
            "./JuceLibraryCode/include_juce_audio_devices.cpp"
            "./JuceLibraryCode/include_juce_audio_formats.cpp"
            "./JuceLibraryCode/include_juce_audio_processors.cpp"
            "./JuceLibraryCode/include_juce_audio_utils.cpp"
            "./JuceLibraryCode/include_juce_core.cpp"
            "./JuceLibraryCode/include_juce_data_structures.cpp"
            "./JuceLibraryCode/include_juce_dsp.cpp"
            "./JuceLibraryCode/include_juce_events.cpp"
            "./JuceLibraryCode/include_juce_graphics.cpp"
            "./JuceLibraryCode/include_juce_gui_basics.cpp"
            "./JuceLibraryCode/include_juce_gui_extra.cpp"
            "./JuceLibraryCode/JuceHeader.h" src/CommandRunner.h)

    set_source_files_properties("./assets/images/logo.svg" PROPERTIES HEADER_FILE_ONLY TRUE)
    set_source_files_properties("./src/TrayIconThread.h" PROPERTIES HEADER_FILE_ONLY TRUE)
    set_source_files_properties("./src/MessagesConstants.h" PROPERTIES HEADER_FILE_ONLY TRUE)
    set_source_files_properties("./src/SettingsConstants.h" PROPERTIES HEADER_FILE_ONLY TRUE)
    set_source_files_properties("./src/SystemwideVSTProcess.h" PROPERTIES HEADER_FILE_ONLY TRUE)
    set_source_files_properties("./src/PassthroughProcessor.h" PROPERTIES HEADER_FILE_ONLY TRUE)
    set_source_files_properties("./src/ConfigurationWindow.h" PROPERTIES HEADER_FILE_ONLY TRUE)
    set_source_files_properties("./src/PluginWindow.h" PROPERTIES HEADER_FILE_ONLY TRUE)
    set_source_files_properties("./src/PluginSelectionTableModel.h" PROPERTIES HEADER_FILE_ONLY TRUE)
    set_source_files_properties("./JuceLibraryCode/BinaryData.h" PROPERTIES HEADER_FILE_ONLY TRUE)
    set_source_files_properties("./JuceLibraryCode/JuceHeader.h" PROPERTIES HEADER_FILE_ONLY TRUE)

    set_target_properties(APP PROPERTIES SUFFIX "")

    juce_set_vst2_sdk_path("/home/barthy/Documents/lib/vstsdk2.4")

    #------------------------------------------------------------------------------
    # Config: Debug
    #------------------------------------------------------------------------------

    if (CMAKE_BUILD_TYPE STREQUAL Debug)

        execute_process(COMMAND uname -m OUTPUT_VARIABLE JUCE_ARCH_LABEL OUTPUT_STRIP_TRAILING_WHITESPACE)

        include_directories(
                "~/JUCE/modules/juce_audio_processors/format_types/VST3_SDK"
                "./JuceLibraryCode"
                "~/JUCE/modules"
                "/home/barthy/Documents/lib/tray"
                "/home/barthy/Documents/lib/vstsdk2.4"
                ${ALSA_INCLUDE_DIRS}
                ${FREETYPE2_INCLUDE_DIRS}
                ${GTK+-3.0_INCLUDE_DIRS}
                ${APPINDICATOR3-0.1_INCLUDE_DIRS}
        )

        find_library(RT rt
                )

        find_library(DL dl
                )

        find_library(PTHREAD pthread
                )

        set_target_properties(APP PROPERTIES
                OUTPUT_NAME "Systemwide VST"
                CXX_STANDARD 17
                CXX_EXTENSIONS OFF
                )

        target_compile_definitions(APP PRIVATE
                LINUX=1
                DEBUG=1
                _DEBUG=1
                JUCE_DISPLAY_SPLASH_SCREEN=1
                JUCE_USE_DARK_SPLASH_SCREEN=1
                JUCE_PROJUCER_VERSION=0x60007
                JUCE_MODULE_AVAILABLE_juce_audio_basics=1
                JUCE_MODULE_AVAILABLE_juce_audio_devices=1
                JUCE_MODULE_AVAILABLE_juce_audio_formats=1
                JUCE_MODULE_AVAILABLE_juce_audio_processors=1
                JUCE_MODULE_AVAILABLE_juce_audio_utils=1
                JUCE_MODULE_AVAILABLE_juce_core=1
                JUCE_MODULE_AVAILABLE_juce_data_structures=1
                JUCE_MODULE_AVAILABLE_juce_dsp=1
                JUCE_MODULE_AVAILABLE_juce_events=1
                JUCE_MODULE_AVAILABLE_juce_graphics=1
                JUCE_MODULE_AVAILABLE_juce_gui_basics=1
                JUCE_MODULE_AVAILABLE_juce_gui_extra=1
                JUCE_GLOBAL_MODULE_SETTINGS_INCLUDED=1
                JUCE_USE_WINRT_MIDI=0
                JUCE_ASIO=0
                JUCE_WASAPI=0
                JUCE_DIRECTSOUND=0
                JUCE_ALSA=1
                JUCE_JACK=0
                JUCE_BELA=0
                JUCE_USE_ANDROID_OBOE=0
                JUCE_USE_OBOE_STABILIZED_CALLBACK=0
                JUCE_USE_ANDROID_OPENSLES=0
                JUCE_DISABLE_AUDIO_MIXING_WITH_OTHER_APPS=0
                JUCE_USE_FLAC=0
                JUCE_USE_OGGVORBIS=0
                JUCE_USE_MP3AUDIOFORMAT=0
                JUCE_USE_LAME_AUDIO_FORMAT=0
                JUCE_USE_WINDOWS_MEDIA_FORMAT=0
                JUCE_PLUGINHOST_VST=1
                JUCE_PLUGINHOST_VST3=1
                JUCE_PLUGINHOST_AU=0
                JUCE_PLUGINHOST_LADSPA=0
                JUCE_CUSTOM_VST3_SDK=0
                JUCE_USE_CDREADER=0
                JUCE_USE_CDBURNER=0
                JUCE_FORCE_DEBUG=0
                JUCE_LOG_ASSERTIONS=0
                JUCE_CHECK_MEMORY_LEAKS=1
                JUCE_DONT_AUTOLINK_TO_WIN32_LIBRARIES=0
                JUCE_INCLUDE_ZLIB_CODE=1
                JUCE_USE_CURL=0
                JUCE_LOAD_CURL_SYMBOLS_LAZILY=0
                JUCE_CATCH_UNHANDLED_EXCEPTIONS=0
                JUCE_ALLOW_STATIC_NULL_VARIABLES=0
                JUCE_STRICT_REFCOUNTEDPOINTER=1
                JUCE_ASSERTION_FIRFILTER=0
                JUCE_DSP_USE_INTEL_MKL=0
                JUCE_DSP_USE_SHARED_FFTW=0
                JUCE_DSP_USE_STATIC_FFTW=0
                JUCE_USE_COREIMAGE_LOADER=1
                JUCE_USE_DIRECTWRITE=1
                JUCE_DISABLE_COREGRAPHICS_FONT_SMOOTHING=0
                JUCE_WEB_BROWSER=0
                JUCE_USE_WIN_WEBVIEW2=0
                JUCE_STANDALONE_APPLICATION=1
                JUCER_LINUX_MAKE_6D53C8B4=1
                JUCE_APP_VERSION=0.1.0
                JUCE_APP_VERSION_HEX=0x100
                JucePlugin_Build_VST=0
                JucePlugin_Build_VST3=0
                JucePlugin_Build_AU=0
                JucePlugin_Build_AUv3=0
                JucePlugin_Build_RTAS=0
                JucePlugin_Build_AAX=0
                JucePlugin_Build_Standalone=0
                JucePlugin_Build_Unity=0
                )

        target_link_libraries(APP PRIVATE

                -fvisibility=hidden
                ${RT}
                ${DL}
                ${PTHREAD}
                ${ALSA_LIBRARIES}
                ${FREETYPE2_LIBRARIES}
                ${GTK+-3.0_LIBRARIES}
                ${APPINDICATOR3-0.1_LIBRARIES}
                )

        set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS}  -pthread -g -ggdb -O0")
        set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${CMAKE_C_FLAGS} ")

    endif (CMAKE_BUILD_TYPE STREQUAL Debug)

    #------------------------------------------------------------------------------
    # Config: Release
    #------------------------------------------------------------------------------

    if (CMAKE_BUILD_TYPE STREQUAL Release)

        execute_process(COMMAND uname -m OUTPUT_VARIABLE JUCE_ARCH_LABEL OUTPUT_STRIP_TRAILING_WHITESPACE)

        include_directories(
                "~/JUCE/modules/juce_audio_processors/format_types/VST3_SDK"
                "./JuceLibraryCode"
                "~/JUCE/modules"
                "/home/barthy/Documents/lib/tray"
                "/home/barthy/Documents/lib/vstsdk2.4"
                ${ALSA_INCLUDE_DIRS}
                ${FREETYPE2_INCLUDE_DIRS}
                ${GTK+-3.0_INCLUDE_DIRS}
                ${APPINDICATOR3-0.1_INCLUDE_DIRS}
        )

        find_library(RT rt
                )

        find_library(DL dl
                )

        find_library(PTHREAD pthread
                )

        set_target_properties(APP PROPERTIES
                OUTPUT_NAME "Systemwide VST"
                CXX_STANDARD 17
                CXX_EXTENSIONS OFF
                )

        target_compile_definitions(APP PRIVATE
                LINUX=1
                NDEBUG=1
                JUCE_DISPLAY_SPLASH_SCREEN=1
                JUCE_USE_DARK_SPLASH_SCREEN=1
                JUCE_PROJUCER_VERSION=0x60007
                JUCE_MODULE_AVAILABLE_juce_audio_basics=1
                JUCE_MODULE_AVAILABLE_juce_audio_devices=1
                JUCE_MODULE_AVAILABLE_juce_audio_formats=1
                JUCE_MODULE_AVAILABLE_juce_audio_processors=1
                JUCE_MODULE_AVAILABLE_juce_audio_utils=1
                JUCE_MODULE_AVAILABLE_juce_core=1
                JUCE_MODULE_AVAILABLE_juce_data_structures=1
                JUCE_MODULE_AVAILABLE_juce_dsp=1
                JUCE_MODULE_AVAILABLE_juce_events=1
                JUCE_MODULE_AVAILABLE_juce_graphics=1
                JUCE_MODULE_AVAILABLE_juce_gui_basics=1
                JUCE_MODULE_AVAILABLE_juce_gui_extra=1
                JUCE_GLOBAL_MODULE_SETTINGS_INCLUDED=1
                JUCE_USE_WINRT_MIDI=0
                JUCE_ASIO=0
                JUCE_WASAPI=0
                JUCE_DIRECTSOUND=0
                JUCE_ALSA=1
                JUCE_JACK=0
                JUCE_BELA=0
                JUCE_USE_ANDROID_OBOE=0
                JUCE_USE_OBOE_STABILIZED_CALLBACK=0
                JUCE_USE_ANDROID_OPENSLES=0
                JUCE_DISABLE_AUDIO_MIXING_WITH_OTHER_APPS=0
                JUCE_USE_FLAC=0
                JUCE_USE_OGGVORBIS=0
                JUCE_USE_MP3AUDIOFORMAT=0
                JUCE_USE_LAME_AUDIO_FORMAT=0
                JUCE_USE_WINDOWS_MEDIA_FORMAT=0
                JUCE_PLUGINHOST_VST=1
                JUCE_PLUGINHOST_VST3=1
                JUCE_PLUGINHOST_AU=0
                JUCE_PLUGINHOST_LADSPA=0
                JUCE_CUSTOM_VST3_SDK=0
                JUCE_USE_CDREADER=0
                JUCE_USE_CDBURNER=0
                JUCE_FORCE_DEBUG=0
                JUCE_LOG_ASSERTIONS=0
                JUCE_CHECK_MEMORY_LEAKS=1
                JUCE_DONT_AUTOLINK_TO_WIN32_LIBRARIES=0
                JUCE_INCLUDE_ZLIB_CODE=1
                JUCE_USE_CURL=0
                JUCE_LOAD_CURL_SYMBOLS_LAZILY=0
                JUCE_CATCH_UNHANDLED_EXCEPTIONS=0
                JUCE_ALLOW_STATIC_NULL_VARIABLES=0
                JUCE_STRICT_REFCOUNTEDPOINTER=1
                JUCE_ASSERTION_FIRFILTER=0
                JUCE_DSP_USE_INTEL_MKL=0
                JUCE_DSP_USE_SHARED_FFTW=0
                JUCE_DSP_USE_STATIC_FFTW=0
                JUCE_USE_COREIMAGE_LOADER=1
                JUCE_USE_DIRECTWRITE=1
                JUCE_DISABLE_COREGRAPHICS_FONT_SMOOTHING=0
                JUCE_WEB_BROWSER=0
                JUCE_USE_WIN_WEBVIEW2=0
                JUCE_STANDALONE_APPLICATION=1
                JUCER_LINUX_MAKE_6D53C8B4=1
                JUCE_APP_VERSION=0.1.0
                JUCE_APP_VERSION_HEX=0x100
                JucePlugin_Build_VST=0
                JucePlugin_Build_VST3=0
                JucePlugin_Build_AU=0
                JucePlugin_Build_AUv3=0
                JucePlugin_Build_RTAS=0
                JucePlugin_Build_AAX=0
                JucePlugin_Build_Standalone=0
                JucePlugin_Build_Unity=0
                )

        target_link_libraries(APP PRIVATE

                -fvisibility=hidden
                ${RT}
                ${DL}
                ${PTHREAD}
                ${ALSA_LIBRARIES}
                ${FREETYPE2_LIBRARIES}
                ${GTK+-3.0_LIBRARIES}
                ${APPINDICATOR3-0.1_LIBRARIES}
                )

        set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS}  -pthread -O3")
        set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${CMAKE_C_FLAGS} ")

    endif (CMAKE_BUILD_TYPE STREQUAL Release)

endif ()

